pipeline {
  agent any
    stages {
      steps{
        stage ('Compile Stage') {
          withMaven(maven : 'local_maven') {
            sh 'mvn clean compile'
                    }
              }
      }
      steps{
        stage ('Test Stage') {
          withMaven(maven : 'local_maven') {
            sh 'mvn test'
                    }
              }
      }
      steps{
        stage ('Deployment Stage') {
          withMaven(maven : 'local_maven') {
           sh 'mvn deploy'
                    }
              }
      }
       }
}
